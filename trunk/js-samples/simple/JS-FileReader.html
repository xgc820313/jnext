<HTML>
<BODY>
<script src="jnext/jnext.js"></script>
<script src="jnext/FileReader.js"></script>
<script>
function test()
{
	var myFile = new FileReader();
	var strSep = myFile.getPathSeparator();
	var strPath;
	if ( strSep == "\\" )
	{
		// Windows
		strPath = "c:\\windows\\win.ini";
	}
	else
	{
		// Assume Linux
		strPath = "/etc/fstab";
	}
	
    var arColors = new Array();
    arColors[ 0 ] = "eoeoeo";
    arColors[ 1 ] = "fofofo";
	var strHTML = "<table>";

	var n = 0;
    if ( !myFile.open( strPath ) )
    {
        alert( "Error opening " + strPath );
        return;
    }

	while ( true )
	{
		n = 1 - n;
		var strLine = myFile.readLine();
		if ( strLine == null )
		{
			break;
		}
		strHTML += "<tr bgcolor='#" + arColors[ n ] + "'><td>";
		strHTML += strLine + "</td></tr>";
	}

    myFile.close();
	strHTML += "</table>";
	document.getElementById( "id_Output" ).innerHTML = strHTML;
}
</script>
<h3>JNEXT FileReader test</h3>
<input type=button value="Read File" onclick='test()'>
<hr/>
<div id="id_Output"></div>
</BODY>
</HTML>
